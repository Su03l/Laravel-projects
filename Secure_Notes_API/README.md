# نظام المذكرات الآمن (Secure Notes API)

نظام واجهة برمجية (API) آمن ومتكامل لإدارة الملاحظات الشخصية. يعتمد المشروع على **Laravel Sanctum** للمصادقة وحماية البيانات، مما يضمن أن كل مستخدم يمكنه الوصول إلى بياناته الخاصة فقط (Data Privacy).

## أبرز المميزات

-   **نظام مصادقة متكامل (Authentication):** تسجيل دخول، تسجيل جديد، وتسجيل خروج باستخدام Tokens.
-   **حماية البيانات (Data Ownership):** لا يمكن للمستخدم عرض أو تعديل أو حذف مذكرات لا يملكها (Scoped Queries).
-   **بحث آمن (Secure Search):** محرك بحث ذكي يمنع تداخل البيانات بين المستخدمين.
-   **التحقق من الصلاحيات (Authorization):** حماية مسارات تعديل بيانات المستخدم نفسه.

## التقنيات المستخدمة

-   **Laravel 10/11**
-   **Laravel Sanctum** (Token Based Auth)
-   **Eloquent Relationships** (One-to-Many)
-   **Middleware Protection**
-   **SQLite**

## نقاط الوصول (API Endpoints)

### عامة (Public)

| الطريقة | الرابط          | الوصف                          |
| :------ | :-------------- | :----------------------------- |
| `POST`  | `/api/register` | إنشاء حساب جديد                |
| `POST`  | `/api/login`    | تسجيل الدخول والحصول على Token |

### محمية (Protected) - تتطلب Token

يجب إرسال الـ Token في الـ Header: `Authorization: Bearer <token>`

**إدارة المستخدم (User)**

| الطريقة  | الرابط            | الوصف                     |
| :------- | :---------------- | :------------------------ |
| `POST`   | `/api/logout`     | تسجيل الخروج (حرق التوكن) |
| `GET`    | `/api/users`      | عرض المستخدمين            |
| `PUT`    | `/api/users/{id}` | تحديث البيانات الشخصية    |
| `DELETE` | `/api/users/{id}` | حذف الحساب                |

**إدارة المذكرات (Notes)**

| الطريقة  | الرابط                        | الوصف             |
| :------- | :---------------------------- | :---------------- |
| `GET`    | `/api/notes`                  | عرض مذكراتي فقط   |
| `GET`    | `/api/notes/search?query=...` | البحث في مذكراتي  |
| `POST`   | `/api/notes`                  | إضافة مذكرة جديدة |
| `GET`    | `/api/notes/{id}`             | عرض تفاصيل مذكرة  |
| `PUT`    | `/api/notes/{id}`             | تعديل مذكرة       |
| `DELETE` | `/api/notes/{id}`             | حذف مذكرة         |

## التثبيت والتشغيل

### 1. تثبيت الحزم:

```bash
composer install
```

### 2. إعداد البيئة:

انسخ ملف `.env.example` إلى `.env` وقم بإعداد قاعدة البيانات.

### 3. بناء الجداول وزراعة البيانات:

```bash
php artisan migrate --seed
```

### 4. تشغيل السيرفر:

```bash
php artisan serve
```
