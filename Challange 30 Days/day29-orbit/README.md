# Orbit - منصة ادارة المشاريع

Orbit هو تطبيق ادارة مشاريع متكامل مبني بـ Laravel و React. يوفر بيئات عمل (Workspaces)، لوحات مشاريع بنظام Kanban مع دعم السحب والافلات، ادارة المهام، التعاون بين اعضاء الفريق، وتتبع النشاطات. التطبيق يتبع نمط تطبيق الصفحة الواحدة (SPA) باستخدام Inertia.js للربط بين الواجهة الخلفية (Laravel) والواجهة الامامية (React مع TypeScript).

---

## فهرس المحتويات

- [التقنيات المستخدمة](#التقنيات-المستخدمة)
- [هيكل المشروع](#هيكل-المشروع)
- [مخطط قاعدة البيانات](#مخطط-قاعدة-البيانات)
- [الموديلات والعلاقات](#الموديلات-والعلاقات)
- [المسارات](#المسارات)
- [الكنترولرات](#الكنترولرات)
- [بنية الواجهة الامامية](#بنية-الواجهة-الامامية)
- [التثبيت](#التثبيت)
- [تشغيل التطبيق](#تشغيل-التطبيق)
- [الاختبارات](#الاختبارات)
- [اعدادات البيئة](#اعدادات-البيئة)

---

## التقنيات المستخدمة

### الواجهة الخلفية (Backend)

| التقنية             | الاصدار | الغرض                                                        |
| ------------------- | ------- | ------------------------------------------------------------ |
| PHP                 | 8.2+    | لغة البرمجة من جهة الخادم                                    |
| Laravel             | 12.x    | اطار عمل PHP لتطبيقات الويب                                  |
| Inertia.js (Server) | 2.x     | الجسر بين Laravel و React، يستبدل طبقة الـ API التقليدية     |
| Laravel Sanctum     | 4.x     | المصادقة عبر التوكن ومصادقة تطبيقات SPA                      |
| Laravel Breeze      | 2.x     | هيكلة المصادقة (تسجيل دخول، تسجيل حساب، استعادة كلمة المرور) |
| Ziggy               | 2.x     | يجعل مسارات Laravel المسماة متاحة في JavaScript              |
| SQLite              | --      | محرك قاعدة البيانات الافتراضي (ملف محلي بدون خادم منفصل)     |

### الواجهة الامامية (Frontend)

| التقنية                  | الاصدار | الغرض                                                  |
| ------------------------ | ------- | ------------------------------------------------------ |
| React                    | 19.x    | مكتبة بناء واجهات المستخدم                             |
| TypeScript               | 5.7+    | جافاسكربت مع انواع بيانات ثابتة                        |
| Inertia.js (Client)      | 2.x     | محول الطرف العميل للتنقل بدون اعادة تحميل الصفحة       |
| Tailwind CSS             | 4.1+    | اطار CSS يعتمد على الكلاسات المساعدة                   |
| Vite                     | 7.x     | اداة بناء وخادم تطوير                                  |
| Headless UI              | 2.x     | مكونات واجهة بدون تنسيق مع دعم الوصولية                |
| Radix UI                 | --      | مكونات اساسية للحوارات والنوافذ المنبثقة               |
| dnd-kit                  | --      | مكتبة السحب والافلات لـ React (تستخدم في لوحات Kanban) |
| Lucide React             | --      | مكتبة الايقونات                                        |
| class-variance-authority | --      | اداة لتنسيق انواع المكونات المختلفة                    |
| clsx / tailwind-merge    | --      | ادوات لدمج اسماء الكلاسات بشكل شرطي                    |

### ادوات التطوير

| الاداة       | الغرض                          |
| ------------ | ------------------------------ |
| Pest         | اطار اختبارات PHP              |
| Laravel Pint | مصحح تنسيق كود PHP             |
| Laravel Pail | عارض سجلات في الوقت الحقيقي    |
| Laravel Sail | بيئة تطوير Docker              |
| Concurrently | يشغل عدة عمليات تطوير بالتوازي |

---

## هيكل المشروع

```
day29-orbit/
|-- app/
|   |-- Http/
|   |   |-- Controllers/         # جميع كنترولرات التطبيق
|   |   |   |-- Auth/            # كنترولرات المصادقة (Breeze)
|   |   |   |-- DashboardController.php
|   |   |   |-- ProfileController.php
|   |   |   |-- ProjectController.php
|   |   |   |-- TaskController.php
|   |   |   |-- TaskColumnController.php
|   |   |   |-- TaskCommentController.php
|   |   |   |-- WorkspaceController.php
|   |   |   |-- WorkspaceMemberController.php
|   |   |-- Middleware/          # الوسيطات المخصصة
|   |   |-- Requests/            # كلاسات التحقق من صحة الطلبات
|   |-- Models/                  # موديلات Eloquent
|   |   |-- Activity.php
|   |   |-- Comment.php
|   |   |-- Project.php
|   |   |-- Task.php
|   |   |-- TaskColumn.php
|   |   |-- User.php
|   |   |-- Workspace.php
|   |-- Providers/               # مزودات الخدمة
|   |-- Services/                # خدمات منطق العمل
|-- bootstrap/                   # ملفات تشغيل التطبيق
|-- config/                      # ملفات الاعدادات
|-- database/
|   |-- factories/               # مصانع الموديلات للاختبارات
|   |-- migrations/              # ملفات هجرة قاعدة البيانات
|   |-- seeders/                 # بذرات قاعدة البيانات
|-- public/                      # الملفات المتاحة للعامة
|-- resources/
|   |-- js/
|   |   |-- Components/          # مكونات React القابلة لاعادة الاستخدام
|   |   |   |-- Board/           # مكونات لوحة Kanban
|   |   |   |-- Workspace/       # مكونات بيئة العمل
|   |   |   |-- ui/              # مكونات واجهة اساسية
|   |   |-- Layouts/             # هياكل الصفحات
|   |   |-- Pages/               # صفحات Inertia
|   |   |   |-- Auth/            # صفحات المصادقة
|   |   |   |-- Dashboard.tsx    # صفحة لوحة التحكم الرئيسية
|   |   |   |-- Profile/         # ادارة الملف الشخصي
|   |   |   |-- Project/         # صفحة لوحة المشروع
|   |   |   |-- Welcome.tsx      # الصفحة الترحيبية
|   |   |   |-- Workspace/       # صفحة تفاصيل بيئة العمل
|   |   |-- lib/                 # دوال مساعدة
|   |   |-- types/               # تعريفات انواع TypeScript
|   |   |-- app.tsx              # نقطة دخول التطبيق
|   |   |-- bootstrap.ts         # اعدادات Axios
|-- routes/
|   |-- web.php                  # مسارات الويب
|   |-- auth.php                 # مسارات المصادقة
|-- storage/                     # التخزين والسجلات والكاش
|-- tests/                       # ملفات الاختبارات
|-- vite.config.js               # اعدادات بناء Vite
|-- tsconfig.json                # اعدادات TypeScript
|-- composer.json                # تبعيات PHP
|-- package.json                 # تبعيات Node.js
```

---

## مخطط قاعدة البيانات

التطبيق يستخدم 8 جداول اجمالا. ثلاثة منها جداول Laravel الافتراضية (users، cache، jobs)، وخمسة جداول مخصصة لادارة المشاريع بالاضافة الى جدول وسيط للعلاقة بين المستخدمين وبيئات العمل.

### جدول workspaces (بيئات العمل)

| العمود     | النوع                | الوصف                         |
| ---------- | -------------------- | ----------------------------- |
| id         | bigint (مفتاح اساسي) | معرف تلقائي                   |
| name       | string               | اسم بيئة العمل                |
| slug       | string (فريد)        | معرف صديق للروابط             |
| owner_id   | مفتاح اجنبي -> users | المستخدم الذي انشأ بيئة العمل |
| logo       | string (اختياري)     | مسار شعار بيئة العمل          |
| created_at | timestamp            | وقت الانشاء                   |
| updated_at | timestamp            | وقت اخر تحديث                 |

### جدول workspace_user (جدول وسيط للاعضاء)

| العمود       | النوع                      | الوصف                                      |
| ------------ | -------------------------- | ------------------------------------------ |
| id           | bigint (مفتاح اساسي)       | معرف تلقائي                                |
| workspace_id | مفتاح اجنبي -> workspaces  | مرجع بيئة العمل                            |
| user_id      | مفتاح اجنبي -> users       | مرجع المستخدم العضو                        |
| role         | string (افتراضي: "member") | الدور داخل بيئة العمل: "admin" او "member" |
| created_at   | timestamp                  | وقت الانشاء                                |
| updated_at   | timestamp                  | وقت اخر تحديث                              |

### جدول projects (المشاريع)

| العمود       | النوع                       | الوصف                               |
| ------------ | --------------------------- | ----------------------------------- |
| id           | bigint (مفتاح اساسي)        | معرف تلقائي                         |
| workspace_id | مفتاح اجنبي -> workspaces   | بيئة العمل التي ينتمي اليها المشروع |
| name         | string                      | اسم المشروع                         |
| description  | text (اختياري)              | وصف المشروع                         |
| bg_color     | string (افتراضي: "#ffffff") | لون خلفية بطاقة المشروع             |
| icon         | string (اختياري)            | ايقونة المشروع                      |
| created_at   | timestamp                   | وقت الانشاء                         |
| updated_at   | timestamp                   | وقت اخر تحديث                       |

### جدول task_columns (اعمدة المهام)

| العمود     | النوع                   | الوصف                                                                                  |
| ---------- | ----------------------- | -------------------------------------------------------------------------------------- |
| id         | bigint (مفتاح اساسي)    | معرف تلقائي                                                                            |
| project_id | مفتاح اجنبي -> projects | المشروع الذي ينتمي اليه العمود                                                         |
| name       | string                  | اسم العمود (مثل: "Backlog"، "In Progress"، "Done")                                     |
| position   | double (افتراضي: 0)     | ترتيب الموقع؛ يستخدم رقم عشري حتى يمكن ادراج اعمدة جديدة بين الموجودة بدون اعادة ترقيم |
| created_at | timestamp               | وقت الانشاء                                                                            |
| updated_at | timestamp               | وقت اخر تحديث                                                                          |

### جدول tasks (المهام)

| العمود         | النوع                          | الوصف                                       |
| -------------- | ------------------------------ | ------------------------------------------- |
| id             | bigint (مفتاح اساسي)           | معرف تلقائي                                 |
| task_column_id | مفتاح اجنبي -> task_columns    | العمود الذي توجد فيه المهمة حاليا           |
| project_id     | مفتاح اجنبي -> projects        | مرجع مباشر للمشروع لتسهيل الاستعلامات       |
| assigned_to    | مفتاح اجنبي -> users (اختياري) | المستخدم المسند اليه المهمة                 |
| title          | string                         | عنوان المهمة                                |
| description    | text (اختياري)                 | وصف تفصيلي للمهمة                           |
| position       | double (افتراضي: 0)            | ترتيب المهمة داخل العمود                    |
| priority       | string (افتراضي: "medium")     | مستوى الاولوية: "low" او "medium" او "high" |
| due_date       | date (اختياري)                 | تاريخ الاستحقاق                             |
| created_at     | timestamp                      | وقت الانشاء                                 |
| updated_at     | timestamp                      | وقت اخر تحديث                               |

### جدول comments (التعليقات)

| العمود     | النوع                | الوصف                           |
| ---------- | -------------------- | ------------------------------- |
| id         | bigint (مفتاح اساسي) | معرف تلقائي                     |
| task_id    | مفتاح اجنبي -> tasks | المهمة التي ينتمي اليها التعليق |
| user_id    | مفتاح اجنبي -> users | المستخدم الذي كتب التعليق       |
| content    | text                 | نص التعليق                      |
| created_at | timestamp            | وقت الانشاء                     |
| updated_at | timestamp            | وقت اخر تحديث                   |

### جدول activities (سجل النشاطات)

| العمود      | النوع                | الوصف                                                   |
| ----------- | -------------------- | ------------------------------------------------------- |
| id          | bigint (مفتاح اساسي) | معرف تلقائي                                             |
| task_id     | مفتاح اجنبي -> tasks | المهمة التي ينتمي اليها السجل                           |
| user_id     | مفتاح اجنبي -> users | المستخدم الذي قام بالعملية                              |
| description | string               | وصف مقروء للعملية (مثل: "نقل الى Done"، "غير الاولوية") |
| created_at  | timestamp            | وقت الانشاء                                             |
| updated_at  | timestamp            | وقت اخر تحديث                                           |

---

## الموديلات والعلاقات

### User (المستخدم)

- **يملك عدة** بيئات عمل (كمالك عبر `owner_id`)
- **ينتمي لعدة** بيئات عمل من خلال الجدول الوسيط `workspace_user` مع حقل الدور `role`

### Workspace (بيئة العمل)

- **تنتمي الى** مستخدم واحد (المالك)
- **تحتوي على عدة** مشاريع
- **تنتمي لعدة** مستخدمين (اعضاء) من خلال الجدول الوسيط `workspace_user` مع حقل الدور `role`

### Project (المشروع)

- **ينتمي الى** بيئة عمل واحدة
- **يحتوي على عدة** اعمدة مهام (مرتبة دائما حسب `position`)
- **يحتوي على عدة** مهام

### TaskColumn (عمود المهام)

- **ينتمي الى** مشروع واحد
- **يحتوي على عدة** مهام (مرتبة دائما حسب `position`)

### Task (المهمة)

- **تنتمي الى** عمود مهام واحد (العمود الموجودة فيه)
- **تنتمي الى** مشروع واحد
- **تنتمي الى** مستخدم كمسؤول (اختياري، عبر `assigned_to`)
- **تحتوي على عدة** تعليقات (مرتبة من الاحدث)
- **تحتوي على عدة** نشاطات (مرتبة من الاحدث)

### Comment (التعليق)

- **ينتمي الى** مهمة واحدة
- **ينتمي الى** مستخدم واحد

### Activity (النشاط)

- **ينتمي الى** مهمة واحدة
- **ينتمي الى** مستخدم واحد

### مخطط العلاقات

```
User ──يملك──> Workspace ──يحتوي──> Project ──يحتوي──> TaskColumn ──يحتوي──> Task
  |                |                                                          |
  |                |                                                          |--يحتوي--> Comment (بواسطة User)
  |                |                                                          |--يحتوي--> Activity (بواسطة User)
  |                |
  +--عضو في------->+ (عبر جدول workspace_user الوسيط، مع الدور)
  |
  +--مسند اليه---> Task
```

---

## المسارات

جميع المسارات ما عدا الصفحة الترحيبية ومسارات المصادقة تتطلب تسجيل دخول. التطبيق لا يقدم API تقليدي منفصل؛ بل يستخدم Inertia.js لتقديم الصفحات من خلال مسارات Laravel العادية.

### المسارات العامة

| الطريقة | المسار | الاسم     | الوصف            |
| ------- | ------ | --------- | ---------------- |
| GET     | `/`    | `welcome` | الصفحة الترحيبية |

### المسارات المحمية (تتطلب مصادقة)

#### لوحة التحكم وبيئات العمل

| الطريقة | المسار                    | الاسم              | الوصف                                             |
| ------- | ------------------------- | ------------------ | ------------------------------------------------- |
| GET     | `/dashboard`              | `dashboard`        | لوحة التحكم الرئيسية التي تعرض بيئات عمل المستخدم |
| POST    | `/workspaces`             | `workspaces.store` | انشاء بيئة عمل جديدة                              |
| GET     | `/workspaces/{workspace}` | `workspaces.show`  | عرض بيئة عمل واحدة مع مشاريعها واعضائها           |

#### المشاريع

| الطريقة | المسار                   | الاسم            | الوصف                               |
| ------- | ------------------------ | ---------------- | ----------------------------------- |
| POST    | `/projects`              | `projects.store` | انشاء مشروع جديد داخل بيئة عمل      |
| GET     | `/projects/{project}`    | `projects.show`  | عرض لوحة المشروع مع الاعمدة والمهام |
| PUT     | `/columns/{column}/move` | `columns.move`   | اعادة ترتيب موقع عمود داخل المشروع  |

#### المهام

| الطريقة | المسار               | الاسم           | الوصف                                                   |
| ------- | -------------------- | --------------- | ------------------------------------------------------- |
| POST    | `/tasks`             | `tasks.store`   | انشاء مهمة جديدة في عمود                                |
| PUT     | `/tasks/{task}`      | `tasks.update`  | تحديث تفاصيل المهمة (العنوان، الوصف، الاولوية، الخ)     |
| PUT     | `/tasks/{task}/move` | `tasks.move`    | نقل مهمة الى عمود اخر او تغيير ترتيبها (السحب والافلات) |
| DELETE  | `/tasks/{task}`      | `tasks.destroy` | حذف مهمة                                                |

#### التعليقات

| الطريقة | المسار                   | الاسم            | الوصف                |
| ------- | ------------------------ | ---------------- | -------------------- |
| POST    | `/tasks/{task}/comments` | `comments.store` | اضافة تعليق على مهمة |

#### الاعمدة

| الطريقة | المسار              | الاسم             | الوصف                    |
| ------- | ------------------- | ----------------- | ------------------------ |
| POST    | `/columns`          | `columns.store`   | انشاء عمود جديد في مشروع |
| DELETE  | `/columns/{column}` | `columns.destroy` | حذف عمود                 |

#### اعضاء بيئة العمل

| الطريقة | المسار                           | الاسم              | الوصف                      |
| ------- | -------------------------------- | ------------------ | -------------------------- |
| POST    | `/workspaces/{workspace}/invite` | `workspace.invite` | دعوة مستخدم الى بيئة العمل |

#### الملف الشخصي

| الطريقة | المسار     | الاسم             | الوصف                        |
| ------- | ---------- | ----------------- | ---------------------------- |
| GET     | `/profile` | `profile.edit`    | عرض نموذج تعديل الملف الشخصي |
| PATCH   | `/profile` | `profile.update`  | تحديث معلومات الملف الشخصي   |
| DELETE  | `/profile` | `profile.destroy` | حذف حساب المستخدم            |

---

## الكنترولرات

### DashboardController

يتعامل مع صفحة لوحة التحكم الرئيسية. يجلب بيئات عمل المستخدم المسجل مع عدد الاعضاء وعدد المشاريع في كل بيئة، ثم يعرض صفحة Dashboard عبر Inertia.

### WorkspaceController

يتعامل مع انشاء بيئات العمل وصفحة تفاصيلها. دالة `store` تنشئ بيئة عمل جديدة وتولد slug وتضيف المنشئ كعضو بدور admin. دالة `show` تحمل بيئة العمل مع مشاريعها (بما فيها عدد المهام) واعضائها.

### ProjectController

يتعامل مع انشاء المشاريع وعرض لوحة المشروع. دالة `store` تنشئ مشروعا داخل بيئة عمل وتنشئ اعمدة افتراضية (مثل "Backlog" و "In Progress" و "Done"). دالة `show` تحمل اللوحة كاملة مع الاعمدة والمهام والمسؤولين وعدد التعليقات. دالة `moveColumn` تتعامل مع اعادة ترتيب الاعمدة.

### TaskController

يتعامل مع جميع عمليات المهام: انشاء مهام داخل عمود، تحديث تفاصيل المهمة (العنوان، الوصف، الاولوية، تاريخ الاستحقاق، المسؤول)، نقل المهام بين الاعمدة او اعادة ترتيبها داخل العمود (للسحب والافلات)، وحذف المهام.

### TaskColumnController

يتعامل مع انشاء اعمدة جديدة في المشروع وحذف الاعمدة الموجودة.

### TaskCommentController

يتعامل مع اضافة التعليقات على المهام. يخزن محتوى التعليق مع معرف المستخدم المسجل.

### WorkspaceMemberController

يتعامل مع دعوة المستخدمين الى بيئة العمل. يبحث عن المستخدم بالبريد الالكتروني ويضيفه الى بيئة العمل بالدور المحدد عبر الجدول الوسيط.

### ProfileController

يتعامل مع ادارة الملف الشخصي: عرض نموذج التعديل، تحديث المعلومات الشخصية (الاسم والبريد)، وحذف حساب المستخدم.

---

## بنية الواجهة الامامية

الواجهة الامامية هي تطبيق React مكتوب بـ TypeScript. يتولى Inertia.js التنقل بين الصفحات بدون اعادة تحميل كاملة. كل مكون صفحة يستقبل بياناته كـ props مباشرة من كنترولر Laravel المقابل.

### الصفحات

#### Welcome - الصفحة الترحيبية (`Pages/Welcome.tsx`)

الصفحة العامة. تعرض معلومات عن التطبيق وتوفر روابط لتسجيل الدخول والتسجيل اذا لم يكن المستخدم مسجلا.

#### Dashboard - لوحة التحكم (`Pages/Dashboard.tsx`)

الصفحة الرئيسية بعد تسجيل الدخول. تعرض جميع بيئات العمل التي ينتمي اليها المستخدم كبطاقات. كل بطاقة تعرض اسم بيئة العمل وعدد الاعضاء وعدد المشاريع. تتضمن امكانية انشاء بيئة عمل جديدة عبر نافذة حوار.

#### Workspace Show - تفاصيل بيئة العمل (`Pages/Workspace/Show.tsx`)

صفحة تفاصيل بيئة العمل. تعرض مشاريع بيئة العمل كقائمة مع عدد المهام، واعضاء بيئة العمل مع ادوارهم، وتوفر خيارات لانشاء مشاريع جديدة او دعوة اعضاء جدد.

#### Project Show - لوحة المشروع (`Pages/Project/Show.tsx`)

عرض لوحة Kanban. تعرض اعمدة المشروع جنبا الى جنب، مع بطاقات المهام داخل كل عمود. تدعم السحب والافلات لاعادة ترتيب المهام ونقلها بين الاعمدة. تتضمن نوافذ حوار لانشاء مهام جديدة وتعديل تفاصيل المهام واضافة تعليقات.

#### Profile Edit - تعديل الملف الشخصي (`Pages/Profile/Edit.tsx`)

صفحة ادارة الملف الشخصي. تحتوي على ثلاثة اقسام: تحديث المعلومات الشخصية (الاسم والبريد)، تغيير كلمة المرور، وحذف الحساب. كل قسم عبارة عن مكون نموذج مستقل.

#### صفحات المصادقة (`Pages/Auth/`)

صفحات المصادقة القياسية المقدمة من Laravel Breeze: تسجيل الدخول، التسجيل، نسيت كلمة المرور، اعادة تعيين كلمة المرور، تأكيد كلمة المرور، والتحقق من البريد الالكتروني.

### المكونات

#### مكونات اللوحة (`Components/Board/`)

- **BoardColumn.tsx** -- يعرض عمود Kanban واحد مع رأسه (اسم العمود وعدد المهام) وقائمة بطاقات المهام. يدعم اهداف السحب والافلات عبر dnd-kit.
- **TaskCard.tsx** -- يعرض بطاقة مهمة واحدة تظهر العنوان وشارة الاولوية وصورة المسؤول وتاريخ الاستحقاق وعدد التعليقات. يعمل كعنصر قابل للسحب.
- **TaskModal.tsx** -- نافذة حوار تفصيلية لعرض وتعديل مهمة واحدة. تعرض جميع معلومات المهمة بما فيها الوصف والاولوية والمسؤول وتاريخ الاستحقاق وقائمة التعليقات وسجل النشاطات. تسمح بالتعديل المباشر لجميع الحقول.
- **CreateTaskDialog.tsx** -- نافذة حوار لانشاء مهمة جديدة. تتضمن حقول العنوان والوصف والاولوية.

#### مكونات بيئة العمل (`Components/Workspace/`)

- **CreateWorkspaceDialog.tsx** -- نافذة حوار لانشاء بيئة عمل جديدة مع حقل الاسم.
- **CreateProjectDialog.tsx** -- نافذة حوار لانشاء مشروع جديد داخل بيئة عمل، مع حقول الاسم والوصف ولون الخلفية.

#### المكونات الاساسية (`Components/ui/`)

- **button.tsx** -- مكون زر قابل لاعادة الاستخدام مبني بـ class-variance-authority لدعم انواع واحجام مختلفة.
- **dialog.tsx** -- مكون نافذة حوار مبني على Radix UI Dialog.
- **input.tsx** -- مكون حقل ادخال نصي منسق.
- **textarea.tsx** -- مكون منطقة نص منسقة.

#### المكونات العامة

- **ApplicationLogo.tsx** -- شعار تطبيق Orbit.
- **Checkbox.tsx** -- مكون خانة اختيار منسقة.
- **DangerButton.tsx** -- زر بلون احمر للعمليات الخطيرة.
- **Dropdown.tsx** -- مكون قائمة منسدلة.
- **InputError.tsx** -- يعرض رسائل اخطاء التحقق اسفل حقول النموذج.
- **InputLabel.tsx** -- تسمية منسقة لحقول الادخال.
- **Modal.tsx** -- مكون نافذة حوار عام الاستخدام.
- **NavLink.tsx** -- رابط تنقل مع تنسيق الحالة النشطة.
- **PrimaryButton.tsx** -- زر العمل الرئيسي.
- **ResponsiveNavLink.tsx** -- رابط تنقل مهيأ للعرض المتجاوب على الجوال.
- **SecondaryButton.tsx** -- زر العمل الثانوي.
- **TextInput.tsx** -- مكون حقل ادخال نصي مع دعم تمرير المرجع.

### الهياكل (Layouts)

- **AppLayout.tsx** -- الهيكل الرئيسي للتطبيق مع شريط جانبي للتنقل ومحدد بيئة العمل ومنطقة المحتوى الرئيسية.
- **AuthenticatedLayout.tsx** -- هيكل بديل للمستخدمين المسجلين مع شريط تنقل علوي وقائمة منسدلة للمستخدم.
- **GuestLayout.tsx** -- هيكل بسيط متمركز يستخدم لصفحات المصادقة (تسجيل الدخول، التسجيل، الخ).

---

## التثبيت

### المتطلبات الاساسية

- PHP اصدار 8.2 او اعلى
- Composer
- Node.js و npm
- SQLite (مضمن مع معظم تثبيتات PHP)

### خطوات التثبيت

1. نسخ المستودع:

```bash
git clone <repository-url>
cd day29-orbit
```

2. تثبيت تبعيات PHP:

```bash
composer install
```

3. نسخ ملف البيئة وتوليد مفتاح التطبيق:

```bash
cp .env.example .env
php artisan key:generate
```

4. انشاء ملف قاعدة بيانات SQLite (اذا لم يكن موجودا):

```bash
touch database/database.sqlite
```

على ويندوز، يمكن انشاء الملف يدويا او تشغيل:

```powershell
New-Item database/database.sqlite -ItemType File
```

5. تشغيل هجرات قاعدة البيانات:

```bash
php artisan migrate
```

6. تثبيت تبعيات JavaScript:

```bash
npm install
```

---

## تشغيل التطبيق

### الطريقة الاولى: باستخدام سكربت composer dev (الموصى بها)

هذا يشغل خادم Laravel وعامل الطوابير وخادم تطوير Vite في نفس الوقت:

```bash
composer dev
```

يشغل ثلاث عمليات بالتوازي:

- خادم تطوير Laravel على `http://localhost:8000`
- عامل الطوابير للمهام الخلفية
- خادم تطوير Vite لاعادة التحميل الفوري للواجهة الامامية

### الطريقة الثانية: تشغيل كل عملية يدويا

في نوافذ طرفية منفصلة:

```bash
# النافذة الاولى: خادم Laravel
php artisan serve

# النافذة الثانية: خادم تطوير Vite
npm run dev
```

### البناء للانتاج

لتجميع ملفات الواجهة الامامية للانتاج:

```bash
npm run build
```

---

## الاختبارات

المشروع يستخدم Pest كاطار اختبارات. لتشغيل الاختبارات:

```bash
php artisan test
```

او مباشرة عبر Pest:

```bash
./vendor/bin/pest
```

---

## اعدادات البيئة

التطبيق يستخدم ملف `.env` للاعدادات. الاعدادات الرئيسية:

| المتغير            | القيمة الافتراضية | الوصف                                             |
| ------------------ | ----------------- | ------------------------------------------------- |
| `DB_CONNECTION`    | `sqlite`          | محرك قاعدة البيانات. SQLite يستخدم افتراضيا       |
| `SESSION_DRIVER`   | `database`        | الجلسات تخزن في قاعدة البيانات                    |
| `QUEUE_CONNECTION` | `database`        | مهام الطوابير تخزن في قاعدة البيانات              |
| `CACHE_STORE`      | `database`        | الكاش يخزن في قاعدة البيانات                      |
| `MAIL_MAILER`      | `log`             | رسائل البريد تسجل في ملفات بدلا من الارسال الفعلي |

للتحويل الى MySQL او PostgreSQL، حدث متغير `DB_CONNECTION` والمتغيرات المرتبطة (`DB_HOST`، `DB_PORT`، `DB_DATABASE`، `DB_USERNAME`، `DB_PASSWORD`) في ملف `.env`.

---

## الرخصة

هذا المشروع برنامج مفتوح المصدر مرخص بموجب رخصة MIT.
