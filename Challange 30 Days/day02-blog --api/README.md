# نظام إدارة المقالات (Mini Blog API)

اسم الفكرة: مدونة إلكترونية متعددة الأقسام (Backend Only)

شرح تفصيلي للفكرة:
هذا هو المشروع الثاني في تحدي "30 يوم 30 مشروع". الفكرة هي بناء واجهة برمجية (API) لإدارة مدونة بسيطة.
في المشروع الأول تعلمنا التعامل مع جدول واحد، أما هنا فنركز على العلاقات بين الجداول (Relationships). النظام يسمح بإنشاء أقسام (مثل: تقنية، رياضة) وإدراج مقالات تحت هذه الأقسام، مع ضمان ترابط البيانات وعدم ضياعها.

المميزات بالتفصيل الممل:

إدارة الأقسام (Categories):

-   إنشاء وتعديل وحذف أقسام المدونة.
-   منع تكرار أسماء الأقسام (Unique Validation).

إدارة المقالات (Posts):

-   إنشاء مقالات وربطها بقسم محدد.
-   التحقق من العلاقة: النظام يرفض إنشاء مقال إذا كان رقم القسم (category_id) غير موجود.
-   الحذف المتسلسل (Cascade Delete): عند حذف قسم، يتم حذف جميع المقالات التابعة له تلقائياً لتنظيف قاعدة البيانات.

جلب البيانات المترابطة (Eager Loading):
عند طلب المقالات، يقوم الـ API بجلب بيانات "القسم" مع كل مقال في نفس الطلب (بدلاً من طلبها بشكل منفصل)، مما يحسن الأداء بشكل هائل.

بيانات وهمية ذكية (Seeding):
المشروع يحتوي على مولد بيانات ينشئ 10 أقسام، ويضع داخل كل قسم 25 مقالاً تلقائياً للتجربة والاختبار.

التقنيات المستخدمة:

-   الإطار البرمجي: Laravel 11 (API Mode)
-   قاعدة البيانات: SQLite.
-   العلاقات: Eloquent Relationships (HasMany, BelongsTo).
-   التوثيق: Dedoc Scramble.

جدول الروابط (API Routes):

| الطريقة | الرابط               | الوصف                      | البيانات المطلوبة           |
| :------ | :------------------- | :------------------------- | :-------------------------- |
| GET     | /api/categories      | عرض كل الأقسام             | -                           |
| POST    | /api/categories      | إنشاء قسم جديد             | name                        |
| GET     | /api/categories/{id} | عرض قسم محدد               | -                           |
| PUT     | /api/categories/{id} | تعديل قسم                  | name                        |
| DELETE  | /api/categories/{id} | حذف قسم                    | -                           |
| GET     | /api/posts           | عرض كل المقالات (مع القسم) | -                           |
| POST    | /api/posts           | إنشاء مقال جديد            | title, content, category_id |
| GET     | /api/posts/{id}      | عرض مقال واحد              | -                           |
| PUT     | /api/posts/{id}      | تعديل مقال                 | title, content, category_id |
| DELETE  | /api/posts/{id}      | حذف مقال                   | -                           |

طريقة التنزيل والتثبيت:

1. استنساخ المشروع:

```bash
git clone <repository_link>
cd day02-blog
```

2. تثبيت الحزم:

```bash
composer install
```

3. إعداد البيئة وقاعدة البيانات:

```bash
cp .env.example .env
# (تأكد من ضبط DB_CONNECTION=sqlite)
# ثم أنشئ الملف:
touch database/database.sqlite  # (Mac/Linux)
type nul > database/database.sqlite # (Windows)
```

4. بناء الجداول وتعبئة البيانات الوهمية:

```bash
php artisan migrate:fresh --seed
# (سيتم إنشاء 10 أقسام و 250 مقال تلقائياً).
```

5. تشغيل السيرفر:

```bash
php artisan serve
```

الآن استمتع بتجربة الـ API عبر Scramble: http://127.0.0.1:8000/docs/api
