# مدير الملفات الذكي (Smart File Manager API)

## اسم الفكرة

**نظام تخزين الملفات مع سلة المحذوفات (File Storage & Soft Deletes)**

## شرح تفصيلي للفكرة

هذا هو المشروع الخامس في تحدي "30 يوم 30 مشروع"، وهو ختام مرحلة "تأسيس قواعد البيانات".
المشروع عبارة عن API لمحاكاة أنظمة إدارة الملفات (مثل Google Drive). يدعم النظام رفع الملفات الحقيقية (صور، مستندات)، تخزينها في السيرفر، وعرضها عبر روابط مباشرة.
أهم ميزة تقنية هنا هي **الحذف الناعم (Soft Deletes)**، حيث لا تُحذف الملفات نهائياً بل تنتقل إلى سلة مهملات ويمكن استعادتها لاحقاً.

## المميزات

1.  **رفع الملفات (File Upload):** تخزين الملفات في `storage/app/public` وتوليد أسماء فريدة.
2.  **رابط تلقائي (Auto URL):** تحويل مسار الملف الداخلي لرابط HTTP كامل باستخدام Laravel Accessors.
3.  **سلة المحذوفات (Trash):** دعم `SoftDeletes`، مع إمكانية عرض المحذوفات واسترجاعها (`Restore`).
4.  **إعادة التسمية (Rename):** إمكانية تعديل اسم الملف الظاهري دون التأثير على الملف الفعلي.

## جدول الروابط (API Routes)

| الطريقة    | الرابط                    | الوصف                   | البيانات (Payload)   |
| :--------- | :------------------------ | :---------------------- | :------------------- |
| **GET**    | `/api/files`              | عرض الملفات الحالية     | -                    |
| **POST**   | `/api/files`              | **رفع ملف جديد**        | `file` (File/Binary) |
| **GET**    | `/api/files/{id}`         | عرض تفاصيل ملف          | -                    |
| **PUT**    | `/api/files/{id}`         | إعادة تسمية الملف       | `name` (Text)        |
| **DELETE** | `/api/files/{id}`         | نقل للسلة (Soft Delete) | -                    |
| **GET**    | `/api/files/trash`        | عرض سلة المحذوفات       | -                    |
| **POST**   | `/api/files/{id}/restore` | استعادة من السلة        | -                    |

## التشغيل

1.  تثبيت الاعتمادات: `composer install`
2.  إعداد قاعدة البيانات: `php artisan migrate`
3.  **خطوة مهمة جداً (لربط الصور):** `php artisan storage:link`
4.  تشغيل السيرفر: `php artisan serve`
